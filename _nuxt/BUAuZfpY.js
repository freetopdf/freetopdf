import{_ as I,g,s as Q,l as q,c as G,b as l,w as s,r as d,i as H,o as b,f as w,m as y,d as a,t as x,u as B}from"./CVECWm9d.js";const J={class:"secure-pdf-container"},K={__name:"secure-pdf",setup(L){H();const p=g(null),V=g(""),c=g(!1),f=g(null),m=g(""),t=Q({password:{enabled:!1,value:"",confirm:""},signature:{enabled:!1,text:"ZuPDF Security System"},permissions:{print:!0,copy:!1,edit:!1,annotate:!1},watermark:{enabled:!1,text:"ZuPDF - Confidential"}}),j=[o=>!!o||"PDF 파일을 선택해주세요.",o=>!o||o.type==="application/pdf"||"PDF 파일만 업로드 가능합니다.",o=>!o||o.size<=5*1024*1024||"파일 크기는 5MB를 초과할 수 없습니다."],E=[o=>!!o||"비밀번호를 입력해주세요.",o=>o.length>=4||"비밀번호는 최소 4자 이상이어야 합니다."],R=q(()=>[o=>!!o||"비밀번호 확인을 입력해주세요.",o=>o===t.password.value||"비밀번호가 일치하지 않습니다."]),O=o=>{V.value="",f.value=null,m.value="",o&&o.size>5*1024*1024&&(V.value="파일 크기는 5MB를 초과할 수 없습니다.",p.value=null)},D=o=>{switch(o){case"basic":t.password.enabled=!0,t.password.value="zupdf1234",t.password.confirm="zupdf1234",t.signature.enabled=!0,t.signature.text="ZuPDF Security System",t.permissions.print=!0,t.permissions.copy=!1,t.permissions.edit=!1,t.permissions.annotate=!1,t.watermark.enabled=!0,t.watermark.text="ZuPDF - Basic Security";break;case"strict":t.password.enabled=!0,t.password.value="secure2024!",t.password.confirm="secure2024!",t.signature.enabled=!0,t.signature.text="ZuPDF Strict Security",t.permissions.print=!1,t.permissions.copy=!1,t.permissions.edit=!1,t.permissions.annotate=!1,t.watermark.enabled=!0,t.watermark.text="ZuPDF - Strict Security - Confidential";break;case"business":t.password.enabled=!0,t.password.value="business2024",t.password.confirm="business2024",t.signature.enabled=!0,t.signature.text="ZuPDF Business Security",t.permissions.print=!0,t.permissions.copy=!1,t.permissions.edit=!1,t.permissions.annotate=!0,t.watermark.enabled=!0,t.watermark.text="ZuPDF - Business Document";break}},A=async()=>{if(!p.value){m.value="PDF 파일을 선택해주세요.";return}if(t.password.enabled&&t.password.value!==t.password.confirm){m.value="비밀번호가 일치하지 않습니다.";return}c.value=!0,m.value="",f.value=null;try{const o=new FormData;if(o.append("file",p.value),t.password.enabled||t.signature.enabled||t.watermark.enabled||!t.permissions.print||!t.permissions.copy||!t.permissions.edit||!t.permissions.annotate){o.append("password",t.password.enabled?t.password.value:""),o.append("signature",t.signature.enabled?t.signature.text:""),o.append("allow_print",t.permissions.print),o.append("allow_copy",t.permissions.copy),o.append("allow_edit",t.permissions.edit),o.append("allow_annotate",t.permissions.annotate),o.append("watermark",t.watermark.enabled?t.watermark.text:"");const i=B().public.apiUrl||"http://localhost:8100",u=await fetch(`${i}/api/custom-secure-pdf`,{method:"POST",body:o});if(!u.ok){const n=await u.json();if(u.status===429&&n.error==="무료 사용 한도 초과")m.value=`You have used all your free usage limit (${n.limit} times). Watch ads to continue using our tools.`,n.current_count!==void 0&&n.limit!==void 0&&(m.value+=` (Current: ${n.current_count}/${n.limit})`);else throw new Error(n.detail||n.error||"An error occurred during security processing.");return}f.value=await u.json()}else{const i=B().public.apiUrl||"http://localhost:8100",u=await fetch(`${i}/api/secure-pdf`,{method:"POST",body:o});if(!u.ok){const n=await u.json();if(u.status===429&&n.error==="무료 사용 한도 초과")m.value=`You have used all your free usage limit (${n.limit} times). Watch ads to continue using our tools.`,n.current_count!==void 0&&n.limit!==void 0&&(m.value+=` (Current: ${n.current_count}/${n.limit})`);else throw new Error(n.detail||n.error||"An error occurred during security processing.");return}f.value=await u.json()}}catch(o){m.value=o.message||"An error occurred during security processing."}finally{c.value=!1}},N=()=>{f.value&&f.value.download_url&&window.open(f.value.download_url,"_blank")};return(o,e)=>{const i=d("v-icon"),u=d("v-card-title"),n=d("v-card-text"),_=d("v-card"),T=d("v-file-input"),S=d("v-alert"),C=d("v-switch"),P=d("v-text-field"),v=d("v-col"),F=d("v-checkbox"),U=d("v-row"),k=d("v-btn"),$=d("v-list-item-title"),Z=d("v-list-item-subtitle"),z=d("v-list-item"),M=d("v-list"),W=d("v-alert-title"),Y=d("v-container");return b(),G("div",J,[l(Y,null,{default:s(()=>[l(U,{justify:"center"},{default:s(()=>[l(v,{cols:"12",md:"10",lg:"8"},{default:s(()=>[l(_,{class:"mb-6",elevation:"2"},{default:s(()=>[l(u,{class:"text-h4 text-center pa-6"},{default:s(()=>[l(i,{size:"large",class:"mr-3",color:"primary"},{default:s(()=>e[16]||(e[16]=[a("mdi-shield-lock")])),_:1,__:[16]}),e[17]||(e[17]=a(" PDF 보안 설정 "))]),_:1,__:[17]}),l(n,{class:"text-center text-body-1"},{default:s(()=>e[18]||(e[18]=[a(" PDF 파일에 비밀번호 보호, 디지털 서명, 권한 제한, 워터마크 등을 추가하여 문서를 안전하게 보호하세요. ")])),_:1,__:[18]})]),_:1}),l(_,{class:"mb-6",elevation:"2"},{default:s(()=>[l(u,{class:"text-h6 pa-4"},{default:s(()=>[l(i,{class:"mr-2"},{default:s(()=>e[19]||(e[19]=[a("mdi-upload")])),_:1,__:[19]}),e[20]||(e[20]=a(" PDF 파일 업로드 "))]),_:1,__:[20]}),l(n,null,{default:s(()=>[l(T,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=r=>p.value=r),accept:".pdf",label:"PDF 파일을 선택하세요","prepend-icon":"mdi-file-pdf-box","show-size":"",counter:"",rules:j,onChange:O,class:"mb-4"},null,8,["modelValue"]),V.value?(b(),w(S,{key:0,type:"error",variant:"tonal",class:"mb-4"},{default:s(()=>[a(x(V.value),1)]),_:1})):y("",!0)]),_:1})]),_:1}),l(_,{class:"mb-6",elevation:"2"},{default:s(()=>[l(u,{class:"text-h6 pa-4"},{default:s(()=>[l(i,{class:"mr-2"},{default:s(()=>e[21]||(e[21]=[a("mdi-cog")])),_:1,__:[21]}),e[22]||(e[22]=a(" 보안 옵션 설정 "))]),_:1,__:[22]}),l(n,null,{default:s(()=>[l(U,null,{default:s(()=>[l(v,{cols:"12",md:"6"},{default:s(()=>[l(_,{variant:"outlined",class:"h-100"},{default:s(()=>[l(u,{class:"text-subtitle-1 pa-3"},{default:s(()=>[l(i,{class:"mr-2",color:"primary"},{default:s(()=>e[23]||(e[23]=[a("mdi-lock")])),_:1,__:[23]}),e[24]||(e[24]=a(" 비밀번호 보호 "))]),_:1,__:[24]}),l(n,null,{default:s(()=>[l(C,{modelValue:t.password.enabled,"onUpdate:modelValue":e[1]||(e[1]=r=>t.password.enabled=r),label:"비밀번호 보호 활성화",color:"primary",class:"mb-3"},null,8,["modelValue"]),t.password.enabled?(b(),w(P,{key:0,modelValue:t.password.value,"onUpdate:modelValue":e[2]||(e[2]=r=>t.password.value=r),label:"비밀번호",type:"password",variant:"outlined",density:"compact",rules:E,"prepend-icon":"mdi-key"},null,8,["modelValue"])):y("",!0),t.password.enabled?(b(),w(P,{key:1,modelValue:t.password.confirm,"onUpdate:modelValue":e[3]||(e[3]=r=>t.password.confirm=r),label:"비밀번호 확인",type:"password",variant:"outlined",density:"compact",rules:R.value,"prepend-icon":"mdi-key-check"},null,8,["modelValue","rules"])):y("",!0)]),_:1})]),_:1})]),_:1}),l(v,{cols:"12",md:"6"},{default:s(()=>[l(_,{variant:"outlined",class:"h-100"},{default:s(()=>[l(u,{class:"text-subtitle-1 pa-3"},{default:s(()=>[l(i,{class:"mr-2",color:"primary"},{default:s(()=>e[25]||(e[25]=[a("mdi-signature")])),_:1,__:[25]}),e[26]||(e[26]=a(" 디지털 서명 "))]),_:1,__:[26]}),l(n,null,{default:s(()=>[l(C,{modelValue:t.signature.enabled,"onUpdate:modelValue":e[4]||(e[4]=r=>t.signature.enabled=r),label:"디지털 서명 추가",color:"primary",class:"mb-3"},null,8,["modelValue"]),t.signature.enabled?(b(),w(P,{key:0,modelValue:t.signature.text,"onUpdate:modelValue":e[5]||(e[5]=r=>t.signature.text=r),label:"서명 텍스트",variant:"outlined",density:"compact",placeholder:"예: ZuPDF Security System","prepend-icon":"mdi-text"},null,8,["modelValue"])):y("",!0)]),_:1})]),_:1})]),_:1}),l(v,{cols:"12",md:"6"},{default:s(()=>[l(_,{variant:"outlined",class:"h-100"},{default:s(()=>[l(u,{class:"text-subtitle-1 pa-3"},{default:s(()=>[l(i,{class:"mr-2",color:"primary"},{default:s(()=>e[27]||(e[27]=[a("mdi-account-lock")])),_:1,__:[27]}),e[28]||(e[28]=a(" 권한 설정 "))]),_:1,__:[28]}),l(n,null,{default:s(()=>[l(F,{modelValue:t.permissions.print,"onUpdate:modelValue":e[6]||(e[6]=r=>t.permissions.print=r),label:"인쇄 허용",color:"primary"},null,8,["modelValue"]),l(F,{modelValue:t.permissions.copy,"onUpdate:modelValue":e[7]||(e[7]=r=>t.permissions.copy=r),label:"텍스트 복사 허용",color:"primary"},null,8,["modelValue"]),l(F,{modelValue:t.permissions.edit,"onUpdate:modelValue":e[8]||(e[8]=r=>t.permissions.edit=r),label:"편집 허용",color:"primary"},null,8,["modelValue"]),l(F,{modelValue:t.permissions.annotate,"onUpdate:modelValue":e[9]||(e[9]=r=>t.permissions.annotate=r),label:"주석 추가 허용",color:"primary"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(v,{cols:"12",md:"6"},{default:s(()=>[l(_,{variant:"outlined",class:"h-100"},{default:s(()=>[l(u,{class:"text-subtitle-1 pa-3"},{default:s(()=>[l(i,{class:"mr-2",color:"primary"},{default:s(()=>e[29]||(e[29]=[a("mdi-watermark")])),_:1,__:[29]}),e[30]||(e[30]=a(" 워터마크 "))]),_:1,__:[30]}),l(n,null,{default:s(()=>[l(C,{modelValue:t.watermark.enabled,"onUpdate:modelValue":e[10]||(e[10]=r=>t.watermark.enabled=r),label:"워터마크 추가",color:"primary",class:"mb-3"},null,8,["modelValue"]),t.watermark.enabled?(b(),w(P,{key:0,modelValue:t.watermark.text,"onUpdate:modelValue":e[11]||(e[11]=r=>t.watermark.text=r),label:"워터마크 텍스트",variant:"outlined",density:"compact",placeholder:"예: ZuPDF - Confidential","prepend-icon":"mdi-text"},null,8,["modelValue"])):y("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(_,{class:"mb-6",elevation:"2"},{default:s(()=>[l(u,{class:"text-h6 pa-4"},{default:s(()=>[l(i,{class:"mr-2"},{default:s(()=>e[31]||(e[31]=[a("mdi-lightning-bolt")])),_:1,__:[31]}),e[32]||(e[32]=a(" 빠른 보안 설정 "))]),_:1,__:[32]}),l(n,null,{default:s(()=>[l(U,null,{default:s(()=>[l(v,{cols:"12",sm:"6",md:"3"},{default:s(()=>[l(k,{block:"",variant:"outlined",color:"primary",onClick:e[12]||(e[12]=r=>D("basic")),disabled:!p.value||c.value,class:"mb-2"},{default:s(()=>[l(i,{class:"mr-2"},{default:s(()=>e[33]||(e[33]=[a("mdi-shield")])),_:1,__:[33]}),e[34]||(e[34]=a(" 기본 보안 "))]),_:1,__:[34]},8,["disabled"])]),_:1}),l(v,{cols:"12",sm:"6",md:"3"},{default:s(()=>[l(k,{block:"",variant:"outlined",color:"warning",onClick:e[13]||(e[13]=r=>D("strict")),disabled:!p.value||c.value,class:"mb-2"},{default:s(()=>[l(i,{class:"mr-2"},{default:s(()=>e[35]||(e[35]=[a("mdi-shield-lock")])),_:1,__:[35]}),e[36]||(e[36]=a(" 엄격한 보안 "))]),_:1,__:[36]},8,["disabled"])]),_:1}),l(v,{cols:"12",sm:"6",md:"3"},{default:s(()=>[l(k,{block:"",variant:"outlined",color:"info",onClick:e[14]||(e[14]=r=>D("business")),disabled:!p.value||c.value,class:"mb-2"},{default:s(()=>[l(i,{class:"mr-2"},{default:s(()=>e[37]||(e[37]=[a("mdi-briefcase")])),_:1,__:[37]}),e[38]||(e[38]=a(" 비즈니스용 "))]),_:1,__:[38]},8,["disabled"])]),_:1}),l(v,{cols:"12",sm:"6",md:"3"},{default:s(()=>[l(k,{block:"",variant:"outlined",color:"success",onClick:e[15]||(e[15]=r=>D("custom")),disabled:!p.value||c.value,class:"mb-2"},{default:s(()=>[l(i,{class:"mr-2"},{default:s(()=>e[39]||(e[39]=[a("mdi-tune")])),_:1,__:[39]}),e[40]||(e[40]=a(" 사용자 정의 "))]),_:1,__:[40]},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),l(_,{class:"mb-6",elevation:"2"},{default:s(()=>[l(n,{class:"text-center"},{default:s(()=>[l(k,{size:"large",color:"primary",onClick:A,disabled:!p.value||c.value,loading:c.value,class:"px-8"},{default:s(()=>[l(i,{class:"mr-2"},{default:s(()=>e[41]||(e[41]=[a("mdi-shield-check")])),_:1,__:[41]}),a(" "+x(c.value?"보안 설정 중...":"보안 설정 적용"),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1}),f.value?(b(),w(_,{key:0,class:"mb-6",elevation:"2"},{default:s(()=>[l(u,{class:"text-h6 pa-4 text-success"},{default:s(()=>[l(i,{class:"mr-2",color:"success"},{default:s(()=>e[42]||(e[42]=[a("mdi-check-circle")])),_:1,__:[42]}),e[43]||(e[43]=a(" 보안 설정 완료 "))]),_:1,__:[43]}),l(n,null,{default:s(()=>[l(S,{type:"success",variant:"tonal",class:"mb-4"},{default:s(()=>e[44]||(e[44]=[a(" PDF 보안 설정이 성공적으로 완료되었습니다. ")])),_:1,__:[44]}),l(M,null,{default:s(()=>[l(z,null,{prepend:s(()=>[l(i,{color:"primary"},{default:s(()=>e[45]||(e[45]=[a("mdi-file-pdf-box")])),_:1,__:[45]})]),default:s(()=>[l($,null,{default:s(()=>e[46]||(e[46]=[a("원본 파일")])),_:1,__:[46]}),l(Z,null,{default:s(()=>[a(x(f.value.original_filename),1)]),_:1})]),_:1}),l(z,null,{prepend:s(()=>[l(i,{color:"success"},{default:s(()=>e[47]||(e[47]=[a("mdi-shield-check")])),_:1,__:[47]})]),default:s(()=>[l($,null,{default:s(()=>e[48]||(e[48]=[a("보안 설정된 파일")])),_:1,__:[48]}),l(Z,null,{default:s(()=>[a(x(f.value.secure_filename),1)]),_:1})]),_:1})]),_:1}),l(k,{block:"",color:"success",size:"large",onClick:N,class:"mt-4"},{default:s(()=>[l(i,{class:"mr-2"},{default:s(()=>e[49]||(e[49]=[a("mdi-download")])),_:1,__:[49]}),e[50]||(e[50]=a(" 보안 PDF 다운로드 "))]),_:1,__:[50]})]),_:1})]),_:1})):y("",!0),m.value?(b(),w(S,{key:1,type:"error",variant:"tonal",class:"mb-6"},{default:s(()=>[l(W,null,{default:s(()=>e[51]||(e[51]=[a("Error Occurred")])),_:1,__:[51]}),a(" "+x(m.value),1)]),_:1})):y("",!0)]),_:1})]),_:1})]),_:1})])}}},h=I(K,[["__scopeId","data-v-7863fbbc"]]);export{h as default};
